// Package docs Code generated by swaggo/swag. DO NOT EDIT
package docs

import "github.com/swaggo/swag"

const docTemplate = `{
    "schemes": {{ marshal .Schemes }},
    "consumes": [
        "application/json"
    ],
    "produces": [
        "application/json"
    ],
    "swagger": "2.0",
    "info": {
        "description": "{{escape .Description}}",
        "title": "{{.Title}}",
        "contact": {},
        "version": "{{.Version}}"
    },
    "host": "{{.Host}}",
    "basePath": "{{.BasePath}}",
    "paths": {
        "/assignments/pending": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get all pending assignments for the authenticated driver",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "assignments"
                ],
                "summary": "Get pending assignments for driver",
                "responses": {
                    "200": {
                        "description": "Pending assignments retrieved",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendSuccess"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/assignments/{order_id}/accept": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Accept a pending order assignment",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "assignments"
                ],
                "summary": "Accept assignment",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Order ID (UUID)",
                        "name": "order_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Assignment accepted",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendSuccess"
                        }
                    },
                    "400": {
                        "description": "Invalid order ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Assignment not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/assignments/{order_id}/reject": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Reject a pending order assignment",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "assignments"
                ],
                "summary": "Reject assignment",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Order ID (UUID)",
                        "name": "order_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Reject reason",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.RejectRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Assignment rejected",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendSuccess"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "description": "Authenticate user with email and password. Returns access token (valid for 1 hour) and refresh token (valid for 30 days). Access token should be included in Authorization header as \"Bearer {token}\" for protected endpoints. The response includes complete user information (ID, name, email, phone, role) along with the authentication tokens.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "User login",
                "parameters": [
                    {
                        "description": "User credentials - email and password",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.LoginRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Login successful - returns access token (JWT, expires in 1h), refresh token (JWT, expires in 30d), and complete user profile",
                        "schema": {
                            "$ref": "#/definitions/models.LoginResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid request body (malformed JSON) or missing required fields (email/password)",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Invalid credentials - incorrect email or password combination",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error - database connection failed or unexpected error during authentication",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/auth/logout": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Revoke a specific refresh token to logout from a single device. The refresh token will be marked as revoked and cannot be used again. Access tokens remain valid until they expire (15 minutes), but without a valid refresh token, the user cannot obtain new access tokens and will need to login again.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Logout user",
                "parameters": [
                    {
                        "description": "Refresh token to revoke",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.LogoutRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Logout successful - refresh token revoked",
                        "schema": {
                            "$ref": "#/definitions/models.LogoutResponseWrapper"
                        }
                    },
                    "400": {
                        "description": "Invalid request body or missing refresh_token field",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - user not authenticated",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Refresh token not found in database",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to revoke token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/auth/logout-all": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Revoke all refresh tokens for the authenticated user, effectively logging out from all devices. This is useful when a user suspects their account has been compromised or wants to terminate all active sessions. All existing refresh tokens will be marked as revoked.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Logout from all devices",
                "responses": {
                    "200": {
                        "description": "All sessions logged out successfully",
                        "schema": {
                            "$ref": "#/definitions/models.LogoutResponseWrapper"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - user not authenticated",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to revoke tokens",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/auth/refresh": {
            "post": {
                "description": "Generate new access and refresh tokens using a valid refresh token. Use this endpoint when the access token expires (after 1 hour). The old refresh token will be invalidated and replaced with a new one for security. Both tokens are JWT format. The response includes the new tokens and updated user information.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Refresh access token",
                "parameters": [
                    {
                        "description": "Refresh token from previous login or refresh",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.RefreshRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tokens refreshed successfully - returns new access token (expires in 1h), new refresh token (expires in 30d), and user profile",
                        "schema": {
                            "$ref": "#/definitions/models.RefreshResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid request body (malformed JSON) or missing refresh_token field",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Invalid refresh token (malformed JWT, expired, or revoked) or associated user account no longer exists",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error - database failure or token generation error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "description": "Two-step registration process with phone verification. **Step 1 (Send OTP)**: Send only phone to receive 6-digit OTP via SMS (expires in 10 min). **Step 2 (Complete Registration)**: After verifying OTP with /auth/verify-otp, send complete registration data including personal info, verified phone, and credentials to create account. Password requirements: 6-72 characters. Age requirement: 18+ years old (calculated from birth_date). Returns access token (1h validity) and refresh token (30d validity) upon successful registration.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "User registration with OTP verification",
                "parameters": [
                    {
                        "description": "Step 1: phone only | Step 2: all fields after OTP verification",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.RegisterRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OTP sent successfully to phone - valid for 10 minutes",
                        "schema": {
                            "$ref": "#/definitions/models.RegisterResponse"
                        }
                    },
                    "201": {
                        "description": "User account created successfully with authentication tokens",
                        "schema": {
                            "$ref": "#/definitions/models.CompleteRegistrationResponse"
                        }
                    },
                    "400": {
                        "description": "User age verification failed - must be 18 years or older",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFailAgeRestriction"
                        }
                    },
                    "500": {
                        "description": "Internal server error - SMS service failure or database error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/auth/sessions": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Retrieve all active sessions (non-revoked, non-expired refresh tokens) for the authenticated user. Returns session details including device information, IP address, creation time, and expiration time. Useful for users to see where they are currently logged in.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Get active sessions",
                "responses": {
                    "200": {
                        "description": "Active sessions retrieved successfully",
                        "schema": {
                            "$ref": "#/definitions/models.ActiveSessionsResponseWrapper"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - user not authenticated",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to retrieve sessions",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/auth/verify-otp": {
            "post": {
                "description": "Verify the 6-digit OTP code sent via SMS to the user's phone number. This endpoint validates the OTP and marks the phone number as verified in the system, which is required before completing registration. OTP codes expire after 10 minutes. After successful verification, proceed to POST /auth/register with complete registration data including the verified phone number.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Verify OTP code",
                "parameters": [
                    {
                        "description": "Phone and 6-digit OTP code",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.VerifyOTPRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Phone number verified successfully - can now complete registration",
                        "schema": {
                            "$ref": "#/definitions/models.VerifyOTPResponseWrapper"
                        }
                    },
                    "400": {
                        "description": "OTP code has expired (10 minute validity) - request a new OTP via POST /auth/register",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFailOTPExpired"
                        }
                    },
                    "500": {
                        "description": "Internal server error - database error during OTP verification",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/documents": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "**Admin-only endpoint** to retrieve all user documents with pagination. Returns paginated list of document records with complete information including vehicle data, document URLs, fiscal information, and review status. Used by admins to view pending document submissions that need review. **Pagination**: Use query parameters ` + "`" + `page` + "`" + ` (default: 1) and ` + "`" + `limit` + "`" + ` (default: 20, max: 100). **Access control**: Requires admin role JWT - non-admin users receive 403 Forbidden. Documents are ordered by creation date (newest first). Returns empty array if no documents exist in the system.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Get all documents (Admin)",
                "parameters": [
                    {
                        "minimum": 1,
                        "type": "integer",
                        "default": 1,
                        "description": "Page number (default: 1)",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "maximum": 100,
                        "minimum": 1,
                        "type": "integer",
                        "default": 20,
                        "description": "Items per page (default: 20, max: 100)",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successfully retrieved paginated documents with metadata",
                        "schema": {
                            "$ref": "#/definitions/models.DocumentListResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid pagination parameters",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - missing or invalid JWT token in Authorization header",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - user does not have admin role\"\texample({\"status\": \"error\", \"message\": \"Acceso denegado - se requiere rol de administrador\", \"code\": 403})",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error - database query failed or connection error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/documents/me": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Retrieve the authenticated user's complete document record including: **Document URLs** (circulation_card_url, ine_front_url, ine_back_url, driver_license_front_url, driver_license_back_url, profile_photo_url), **Vehicle Info** (vehicle_brand, vehicle_model, license_plate), **Fiscal Data** (fiscal_name, fiscal_rfc, fiscal_zip_code, fiscal_regime, fiscal_street, fiscal_ext_number, fiscal_int_number, fiscal_neighborhood, fiscal_city, fiscal_state, fiscal_certificate_url), and **Review Status** (reviewed: boolean indicating admin approval). Returns null if user has not created a document record yet. The reviewed field is set by admins via PATCH /documents/{user_id}/review after manual verification - true means documents are approved and driver can receive orders, false means pending review or rejected.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Get my documents",
                "responses": {
                    "200": {
                        "description": "Document record retrieved successfully with all fields, or null if no documents exist yet\"\texample({\"status\": \"success\", \"data\": {\"id\": \"550e8400-e29b-41d4-a716-446655440000\", \"user_id\": \"123e4567-e89b-12d3-a456-426614174000\", \"vehicle_brand\": \"Honda\", \"vehicle_model\": \"CBR 250\", \"license_plate\": \"ABC-123-XYZ\", \"ine_front_url\": \"https://storage.example.com/docs/ine_front.jpg\", \"reviewed\": false, \"created_at\": \"2025-01-15T10:30:00Z\", \"updated_at\": \"2025-01-15T11:00:00Z\"}})",
                        "schema": {
                            "$ref": "#/definitions/models.DocumentResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - missing or invalid JWT token in Authorization header",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error - database query failed or connection error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Permanently delete the authenticated user's entire document record from the database. **This action is irreversible** - all data will be lost including vehicle information, all document URLs, and fiscal data. The files themselves remain in R2 storage but are no longer linked to the user account. After deletion, user can create a fresh document record via PATCH /documents/me and re-upload files. **Use cases**: User wants to restart document submission process from scratch, user wants to remove all stored document information, or driver is switching to a different vehicle and needs to resubmit all documents. Returns 404 if no document record exists for the user.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Delete my documents",
                "responses": {
                    "200": {
                        "description": "Documents deleted successfully - user can now create new document record\"\texample({\"status\": \"success\", \"data\": {\"message\": \"Documentos eliminados exitosamente\"}})",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendSuccess"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - missing or invalid JWT token in Authorization header",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Documents not found - user has no document record to delete\"\texample({\"status\": \"fail\", \"data\": {\"error\": \"Documentos no encontrados\"}})",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error - database delete operation failed or connection error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Create or partially update the authenticated user's document record using upsert pattern (creates if doesn't exist, updates if exists). **All fields are optional** - send only the fields you want to create/update. **Typical workflow**: 1) Upload file via POST /documents/upload to get URL, 2) PATCH this endpoint with {\"ine_front_url\": \"returned_url\"} to save. Supports progressive submission - add vehicle info first, then fiscal data later, etc. **Validation rules**: RFC format (13 alphanumeric characters following SAT pattern: ^[A-ZÑ\u0026]{3,4}\\d{6}[A-Z0-9]{3}$), ZIP code (exactly 5 digits), fiscal_regime enum (general, simplificado_confianza, actividad_empresarial, arrendamiento, salarios, incorporacion_fiscal). **Note**: The reviewed field cannot be modified by users - only admins can change it via PATCH /documents/{user_id}/review after manual verification. Returns the complete document record after operation.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Create or update my documents (upsert)",
                "parameters": [
                    {
                        "description": "Document fields to create/update - all optional, send only what you need",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.UpdateDocumentRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Documents created or updated successfully - returns complete document record with all fields",
                        "schema": {
                            "$ref": "#/definitions/models.DocumentResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid fiscal regime - valores permitidos: general, simplificado_confianza, actividad_empresarial, arrendamiento, salarios, incorporacion_fiscal",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFailFiscalRegimeInvalid"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - missing or invalid JWT token in Authorization header",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error - database upsert operation failed or connection error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/documents/upload": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Upload a single document file to Cloudflare R2 storage using multipart/form-data. **Maximum file size: 10 MB**. **Supported formats: JPEG, PNG, PDF**. The file is stored in R2 with path structure: documents/{user_id}/{doc_type}/{uuid}.{ext}. Returns the public URL which should be saved via PATCH /documents/me. **Workflow**: 1) Upload file here to get URL, 2) Call PATCH /documents/me with {\"ine_front_url\": \"returned_url\"} to save in database. Each document type corresponds to a specific field in the document record (circulation_card → circulation_card_url, ine_front → ine_front_url, etc.).",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Upload document file",
                "parameters": [
                    {
                        "type": "file",
                        "description": "Document file - max 10 MB, formats: JPEG/PNG/PDF",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "enum": [
                            "circulation_card",
                            "ine_front",
                            "ine_back",
                            "driver_license_front",
                            "driver_license_back",
                            "profile_photo",
                            "fiscal_certificate"
                        ],
                        "type": "string",
                        "description": "Document type - determines storage path and field name",
                        "name": "type",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "File uploaded successfully to R2 - returns public URL and document type\"\texample({\"status\": \"success\", \"data\": {\"url\": \"https://pub-abc123.r2.dev/documents/550e8400-e29b-41d4-a716-446655440000/ine_front/a1b2c3d4.jpg\", \"type\": \"ine_front\"}})",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "type": "string"
                                        },
                                        "url": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "status": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Unsupported file type - solo se permiten imágenes JPEG/PNG y archivos PDF",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFailFileType"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - missing or invalid JWT token in Authorization header",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to upload file to R2 storage or S3 API error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/documents/{document_id}": {
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "**Admin-only endpoint** to update a document's review status by its document ID (not user ID). Similar to PATCH /documents/{user_id}/review but uses document ID for direct document manipulation. **Use case**: Admin dashboard where documents are listed with their IDs - admin can approve/reject directly using the document ID without needing to look up the user ID. Request body must contain boolean 'reviewed' field. **Access control**: Requires admin role JWT - non-admin users receive 403 Forbidden. The document_id path parameter must be valid UUID. Returns success message with updated review status. Returns 404 if document ID doesn't exist.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Update document status by ID (Admin)",
                "parameters": [
                    {
                        "type": "string",
                        "example": "550e8400-e29b-41d4-a716-446655440000",
                        "description": "Document ID in UUID format",
                        "name": "document_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Review status - true to approve, false to reject",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "reviewed": {
                                    "type": "boolean"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Review status updated successfully\"\texample({\"status\": \"success\", \"data\": {\"message\": \"Estado de revisión actualizado exitosamente\", \"reviewed\": true}})",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendSuccess"
                        }
                    },
                    "400": {
                        "description": "Invalid request body - malformed JSON or missing reviewed field",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFailInvalidJSON"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - missing or invalid JWT token in Authorization header",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - user does not have admin role\"\t\t\texample({\"status\": \"error\", \"message\": \"Acceso denegado - se requiere rol de administrador\", \"code\": 403})",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Document not found - document ID doesn't exist\"\texample({\"status\": \"fail\", \"data\": {\"error\": \"Documento no encontrado\"}})",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error - database update operation failed or connection error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/documents/{user_id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "**Admin-only endpoint** to retrieve document record for any user by their UUID. Used in driver onboarding workflow: admin reviews submitted documents, verifies authenticity (INE, driver license, circulation card match real identity), checks fiscal compliance (RFC format, tax certificate validity), and inspects vehicle documentation. Returns complete document record including: **Vehicle Info** (brand, model, license plate), **Document URLs** (INE front/back, driver license front/back, circulation card, profile photo - stored in R2), **Fiscal Data** (fiscal name, RFC, tax regime, complete address, zip code, tax certificate URL), and **Review Status** (reviewed boolean). **Access control**: Requires admin role JWT - non-admin users receive 403 Forbidden. The user_id path parameter must be valid UUID format. **Workflow**: 1) GET this endpoint to inspect documents, 2) Manually verify documents for authenticity, 3) PATCH /documents/{user_id}/review to approve/reject. Returns 404 if user has no document record.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Get user documents (Admin)",
                "parameters": [
                    {
                        "type": "string",
                        "example": "550e8400-e29b-41d4-a716-446655440000",
                        "description": "User ID in UUID format",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Document record retrieved successfully with all fields and review status",
                        "schema": {
                            "$ref": "#/definitions/models.DocumentResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid user ID format - must be valid UUID",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFailUserIDInvalid"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - missing or invalid JWT token in Authorization header",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - user does not have admin role\"\t\t\t\t\t\texample({\"status\": \"error\", \"message\": \"Acceso denegado - se requiere rol de administrador\", \"code\": 403})",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Documents not found - specified user has no document record\"\texample({\"status\": \"fail\", \"data\": {\"error\": \"Documentos no encontrados\"}})",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error - database query failed or connection error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/documents/{user_id}/review": {
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "**Admin-only endpoint** to mark a user's documents as reviewed (approved) or unreviewed (rejected/pending) after manual verification. **Driver onboarding workflow**: 1) Admin calls GET /documents/{user_id} to retrieve all submitted documents, 2) Admin manually verifies: vehicle registration authenticity, INE/driver license validity and photo match, fiscal certificate legitimacy and RFC format correctness, vehicle insurance and circulation card validity, 3) Admin calls this endpoint with {\"reviewed\": true} to approve or {\"reviewed\": false} to reject. **Business logic impact**: Setting reviewed=true typically activates the driver account and makes them eligible for automatic order assignment. Setting reviewed=false may trigger notification to driver to resubmit documents. **Access control**: Requires admin role JWT - non-admin users receive 403 Forbidden. The user_id path parameter must be valid UUID. Request body must contain boolean 'reviewed' field. Returns success message with updated review status.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "documents"
                ],
                "summary": "Review user documents (Admin)",
                "parameters": [
                    {
                        "type": "string",
                        "example": "550e8400-e29b-41d4-a716-446655440000",
                        "description": "User ID in UUID format",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Review status - true to approve, false to reject",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "reviewed": {
                                    "type": "boolean"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Review status updated successfully - driver account status may be affected\"\texample({\"status\": \"success\", \"data\": {\"message\": \"Estado de revisión actualizado exitosamente\", \"reviewed\": true}})",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendSuccess"
                        }
                    },
                    "400": {
                        "description": "Invalid request body - malformed JSON or missing reviewed field",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFailInvalidJSON"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - missing or invalid JWT token in Authorization header",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - user does not have admin role\"\t\t\t\t\t\t\t\texample({\"status\": \"error\", \"message\": \"Acceso denegado - se requiere rol de administrador\", \"code\": 403})",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Documents not found - specified user has no document record to review\"\texample({\"status\": \"fail\", \"data\": {\"error\": \"Documentos no encontrados\"}})",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error - database update operation failed or connection error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/drivers/me/active-order": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get the active order for the authenticated driver",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "orders"
                ],
                "summary": "Get my active order",
                "responses": {
                    "200": {
                        "description": "Active order retrieved",
                        "schema": {
                            "$ref": "#/definitions/models.OrderResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "No active order",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/drivers/me/assignments": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get all pending order assignments for the authenticated driver",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "orders"
                ],
                "summary": "Get my pending assignments",
                "responses": {
                    "200": {
                        "description": "Pending assignments list",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/httpx.JSendSuccess"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/models.OrderAssignment"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - not a driver",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/drivers/me/availability": {
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Update the current driver's availability status",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "drivers"
                ],
                "summary": "Update my availability",
                "parameters": [
                    {
                        "description": "Availability status",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.UpdateAvailabilityRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Availability updated successfully",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendSuccess"
                        }
                    },
                    "400": {
                        "description": "Validation failed",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/drivers/me/location": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get the current driver's location",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "drivers"
                ],
                "summary": "Get my location",
                "responses": {
                    "200": {
                        "description": "Location retrieved successfully",
                        "schema": {
                            "$ref": "#/definitions/models.DriverLocationResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Location not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Update the current driver's real-time location",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "drivers"
                ],
                "summary": "Update my location",
                "parameters": [
                    {
                        "description": "Location details",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.UpdateLocationRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Location updated successfully",
                        "schema": {
                            "$ref": "#/definitions/models.DriverLocationResponse"
                        }
                    },
                    "400": {
                        "description": "Validation failed",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/health": {
            "get": {
                "description": "Check if the API is running and database connectivity",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "system"
                ],
                "summary": "Health check",
                "responses": {
                    "200": {
                        "description": "API is healthy",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendSuccess"
                        }
                    }
                }
            }
        },
        "/merchants": {
            "get": {
                "description": "List all merchants with optional filters",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "merchants"
                ],
                "summary": "List merchants",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Filter by city",
                        "name": "city",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by business type",
                        "name": "business_type",
                        "in": "query"
                    },
                    {
                        "enum": [
                            "active",
                            "inactive",
                            "suspended"
                        ],
                        "type": "string",
                        "description": "Filter by status",
                        "name": "status",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Merchants retrieved successfully",
                        "schema": {
                            "$ref": "#/definitions/models.MerchantListResponse"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Create a new merchant profile for the authenticated user",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "merchants"
                ],
                "summary": "Create merchant",
                "parameters": [
                    {
                        "description": "Merchant details",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.CreateMerchantRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Merchant created successfully",
                        "schema": {
                            "$ref": "#/definitions/models.MerchantResponse"
                        }
                    },
                    "400": {
                        "description": "Validation failed",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/merchants/me": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get merchant profile for the authenticated user",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "merchants"
                ],
                "summary": "Get my merchant",
                "responses": {
                    "200": {
                        "description": "Merchant retrieved successfully",
                        "schema": {
                            "$ref": "#/definitions/models.MerchantResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Merchant not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Update merchant profile for the authenticated user",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "merchants"
                ],
                "summary": "Update my merchant",
                "parameters": [
                    {
                        "description": "Merchant update details",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.UpdateMerchantRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Merchant updated successfully",
                        "schema": {
                            "$ref": "#/definitions/models.MerchantResponse"
                        }
                    },
                    "400": {
                        "description": "Validation failed",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Merchant not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/merchants/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get merchant details by ID (admin only)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "merchants"
                ],
                "summary": "Get merchant by ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Merchant ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Merchant retrieved successfully",
                        "schema": {
                            "$ref": "#/definitions/models.MerchantResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid merchant ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Merchant not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/notifications": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get paginated list of notifications for the authenticated user. Supports pagination with page and limit query parameters. Default page size is 20, maximum is 100.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "notifications"
                ],
                "summary": "List notifications",
                "parameters": [
                    {
                        "minimum": 1,
                        "type": "integer",
                        "default": 1,
                        "description": "Page number (default: 1)",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "maximum": 100,
                        "minimum": 1,
                        "type": "integer",
                        "default": 20,
                        "description": "Items per page (default: 20, max: 100)",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successfully retrieved notifications",
                        "schema": {
                            "$ref": "#/definitions/models.NotificationListResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid query parameters",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - invalid or missing token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to retrieve notifications",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/notifications/read-all": {
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Mark all unread notifications for the authenticated user as read. This updates all notifications with is_read=false to is_read=true and sets their read_at timestamps.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "notifications"
                ],
                "summary": "Mark all notifications as read",
                "responses": {
                    "200": {
                        "description": "All notifications marked as read successfully",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendSuccess"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - invalid or missing token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to update notifications",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/notifications/register-token": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Register a Firebase Cloud Messaging token for push notifications. Tokens are device-specific and allow sending notifications to that device. If the token already exists, it will be updated as active.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "notifications"
                ],
                "summary": "Register FCM token",
                "parameters": [
                    {
                        "description": "FCM token details (token, device_type, optional device_id)",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.RegisterTokenRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Token registered successfully",
                        "schema": {
                            "$ref": "#/definitions/models.TokenResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid request body or validation failed",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - invalid or missing token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to register token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/notifications/send": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Send a push notification to a specific user. This endpoint creates the notification in the database and sends it via FCM to all active devices. Useful for testing and manual notifications.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "notifications-admin"
                ],
                "summary": "Send notification (Admin)",
                "parameters": [
                    {
                        "description": "Notification details",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.CreateNotificationRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Notification sent successfully",
                        "schema": {
                            "$ref": "#/definitions/models.NotificationResponse"
                        }
                    },
                    "400": {
                        "description": "Validation failed",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - admin only",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/notifications/unread-count": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get the count of unread notifications for the authenticated user. Useful for displaying notification badges.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "notifications"
                ],
                "summary": "Get unread notification count",
                "responses": {
                    "200": {
                        "description": "Successfully retrieved unread count",
                        "schema": {
                            "$ref": "#/definitions/models.UnreadCountResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - invalid or missing token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to count notifications",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/notifications/unregister-token": {
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Deactivate a Firebase Cloud Messaging token. Use this when the user logs out or uninstalls the app to stop receiving notifications on that device.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "notifications"
                ],
                "summary": "Unregister FCM token",
                "parameters": [
                    {
                        "description": "FCM token to deactivate",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.UnregisterTokenRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Token unregistered successfully",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendSuccess"
                        }
                    },
                    "400": {
                        "description": "Invalid request body or missing token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - invalid or missing token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Token not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to unregister token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/notifications/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get detailed information about a specific notification. User must own the notification to access it.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "notifications"
                ],
                "summary": "Get notification details",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Notification ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successfully retrieved notification",
                        "schema": {
                            "$ref": "#/definitions/models.NotificationResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid notification ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - invalid or missing token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - notification belongs to another user",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "404": {
                        "description": "Notification not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to retrieve notification",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Delete a specific notification. User must own the notification to delete it. This permanently removes the notification from the database.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "notifications"
                ],
                "summary": "Delete notification",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Notification ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Notification deleted successfully",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendSuccess"
                        }
                    },
                    "400": {
                        "description": "Invalid notification ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - invalid or missing token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - notification belongs to another user",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "404": {
                        "description": "Notification not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to delete notification",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/notifications/{id}/read": {
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Mark a specific notification as read. This updates the is_read field and sets the read_at timestamp. User must own the notification.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "notifications"
                ],
                "summary": "Mark notification as read",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Notification ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Notification marked as read successfully",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendSuccess"
                        }
                    },
                    "400": {
                        "description": "Invalid notification ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - invalid or missing token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - notification belongs to another user",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "404": {
                        "description": "Notification not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to update notification",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/orders": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get paginated list of orders (filtered by role and optional status)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "orders"
                ],
                "summary": "List orders",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Filter by status",
                        "name": "status",
                        "in": "query"
                    },
                    {
                        "maximum": 100,
                        "minimum": 1,
                        "type": "integer",
                        "default": 20,
                        "description": "Number of items per page (default: 20, max: 100)",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "minimum": 1,
                        "type": "integer",
                        "default": 1,
                        "description": "Page number (default: 1)",
                        "name": "page",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated orders list",
                        "schema": {
                            "$ref": "#/definitions/models.OrderListResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid parameters",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/orders/external": {
            "post": {
                "description": "Receive and create a new order from an external backend (webhook endpoint)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "orders"
                ],
                "summary": "Create external order (webhook)",
                "parameters": [
                    {
                        "description": "External order details",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.CreateExternalOrderRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Order created and assignment started",
                        "schema": {
                            "$ref": "#/definitions/models.OrderResponse"
                        }
                    },
                    "400": {
                        "description": "Validation failed",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/orders/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get detailed information about a specific order",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "orders"
                ],
                "summary": "Get order by ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Order ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Order retrieved successfully",
                        "schema": {
                            "$ref": "#/definitions/models.OrderResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid order ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Order not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Update the status of an order (driver only). For 'delivered' status, delivery code must be verified first.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "orders"
                ],
                "summary": "Update order status",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Order ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "New status",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.UpdateOrderStatusRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Order status updated",
                        "schema": {
                            "$ref": "#/definitions/models.OrderResponse"
                        }
                    },
                    "400": {
                        "description": "Validation failed",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Order not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/orders/{id}/accept": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Driver accepts an assigned order",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "orders"
                ],
                "summary": "Accept order",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Order ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Order accepted successfully",
                        "schema": {
                            "$ref": "#/definitions/models.OrderResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid order ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Order not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/orders/{id}/complete-delivery": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Verify delivery code and mark order as delivered in one step",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "orders"
                ],
                "summary": "Complete delivery with code verification",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Order ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Delivery code",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.VerifyDeliveryCodeRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Order completed successfully",
                        "schema": {
                            "$ref": "#/definitions/models.OrderResponse"
                        }
                    },
                    "400": {
                        "description": "Validation failed or incorrect code",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Order not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/orders/{id}/reject": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Driver rejects an assigned order",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "orders"
                ],
                "summary": "Reject order",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Order ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Rejection reason",
                        "name": "request",
                        "in": "body",
                        "schema": {
                            "$ref": "#/definitions/models.CancelOrderRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Order rejected successfully",
                        "schema": {
                            "$ref": "#/definitions/models.OrderResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid order ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Order not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/orders/{id}/verify-delivery-code": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Verify the delivery code before completing an order",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "orders"
                ],
                "summary": "Verify delivery code",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Order ID (UUID)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Delivery code",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.VerifyDeliveryCodeRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Code verification result",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/httpx.JSendSuccess"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "additionalProperties": {
                                                "type": "boolean"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Validation failed",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "Order not found",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/users/me": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get the authenticated user's profile information including ID, name, email, phone, role, and timestamps. Requires valid JWT token in Authorization header.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Get current user profile",
                "responses": {
                    "200": {
                        "description": "User profile retrieved successfully with all user details",
                        "schema": {
                            "$ref": "#/definitions/models.UserProfileResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - missing or invalid token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "User not found - user ID from token doesn't exist in database",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to retrieve user profile",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        },
        "/users/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get a user's profile information by their UUID. Users can only access their own profile unless they have admin role. Returns full user details including ID, name, email, phone, role, and timestamps.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Get user by ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID in UUID format (e.g., 550e8400-e29b-41d4-a716-446655440000)",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User profile retrieved successfully with all user details",
                        "schema": {
                            "$ref": "#/definitions/models.UserProfileResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid user ID format - must be valid UUID",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "401": {
                        "description": "Unauthorized - missing or invalid token",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - insufficient permissions to access this user's profile",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    },
                    "404": {
                        "description": "User not found - no user exists with the provided ID",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendFail"
                        }
                    },
                    "500": {
                        "description": "Internal server error - failed to retrieve user profile",
                        "schema": {
                            "$ref": "#/definitions/httpx.JSendError"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "handlers.RejectRequest": {
            "type": "object",
            "properties": {
                "reason": {
                    "type": "string",
                    "example": "Muy lejos"
                }
            }
        },
        "httpx.JSendError": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer",
                    "example": 500
                },
                "message": {
                    "type": "string",
                    "example": "Failed to connect to database"
                },
                "status": {
                    "type": "string",
                    "example": "error"
                }
            }
        },
        "httpx.JSendFail": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailAgeRestriction": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailAgeRestrictionData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailAgeRestrictionData": {
            "type": "object",
            "properties": {
                "birth_date": {
                    "type": "string",
                    "example": "User must be at least 18 years old"
                }
            }
        },
        "httpx.JSendFailDocumentIDInvalid": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailDocumentIDInvalidData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailDocumentIDInvalidData": {
            "type": "object",
            "properties": {
                "document_id": {
                    "type": "string",
                    "example": "Formato de ID de documento inválido"
                }
            }
        },
        "httpx.JSendFailDocumentType": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailDocumentTypeData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailDocumentTypeData": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "example": "Tipo de documento inválido - valores permitidos: circulation_card, ine_front, ine_back, driver_license_front, driver_license_back, profile_photo, fiscal_certificate"
                }
            }
        },
        "httpx.JSendFailEmailData": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string",
                    "example": "Email already registered"
                }
            }
        },
        "httpx.JSendFailEmailExists": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailEmailData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailFileSize": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailFileSizeData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailFileSizeData": {
            "type": "object",
            "properties": {
                "file": {
                    "type": "string",
                    "example": "Archivo demasiado grande - máximo 10 MB permitido"
                }
            }
        },
        "httpx.JSendFailFileType": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailFileTypeData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailFileTypeData": {
            "type": "object",
            "properties": {
                "file": {
                    "type": "string",
                    "example": "Tipo de archivo no permitido - solo se permiten imágenes JPEG/PNG y archivos PDF"
                }
            }
        },
        "httpx.JSendFailFiscalRegimeInvalid": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailFiscalRegimeInvalidData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailFiscalRegimeInvalidData": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string",
                    "example": "régimen fiscal inválido - valores permitidos: general, simplificado_confianza, actividad_empresarial, arrendamiento, salarios, incorporacion_fiscal"
                }
            }
        },
        "httpx.JSendFailInvalidJSON": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailInvalidJSONData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailInvalidJSONData": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string",
                    "example": "Cuerpo de solicitud inválido"
                }
            }
        },
        "httpx.JSendFailOTPData": {
            "type": "object",
            "properties": {
                "otp": {
                    "type": "string",
                    "example": "Invalid OTP code"
                }
            }
        },
        "httpx.JSendFailOTPExpired": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailOTPExpiredData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailOTPExpiredData": {
            "type": "object",
            "properties": {
                "otp": {
                    "type": "string",
                    "example": "OTP has expired - please request a new one"
                }
            }
        },
        "httpx.JSendFailOTPInvalid": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailOTPData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailPhoneData": {
            "type": "object",
            "properties": {
                "phone": {
                    "type": "string",
                    "example": "Invalid phone format (use E.164 format: +525512345678)"
                }
            }
        },
        "httpx.JSendFailPhoneExists": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailPhoneExistsData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailPhoneExistsData": {
            "type": "object",
            "properties": {
                "phone": {
                    "type": "string",
                    "example": "Phone number already registered"
                }
            }
        },
        "httpx.JSendFailPhoneInvalid": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailPhoneData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailPhoneNotVerified": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailPhoneNotVerifiedData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailPhoneNotVerifiedData": {
            "type": "object",
            "properties": {
                "phone": {
                    "type": "string",
                    "example": "Phone not verified - please verify OTP first"
                }
            }
        },
        "httpx.JSendFailRFCInvalid": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailRFCInvalidData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailRFCInvalidData": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string",
                    "example": "formato de RFC inválido (debe tener 13 caracteres alfanuméricos)"
                }
            }
        },
        "httpx.JSendFailUserIDInvalid": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailUserIDInvalidData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailUserIDInvalidData": {
            "type": "object",
            "properties": {
                "user_id": {
                    "type": "string",
                    "example": "Formato de ID de usuario inválido"
                }
            }
        },
        "httpx.JSendFailZipCodeInvalid": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/httpx.JSendFailZipCodeInvalidData"
                },
                "status": {
                    "type": "string",
                    "example": "fail"
                }
            }
        },
        "httpx.JSendFailZipCodeInvalidData": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string",
                    "example": "formato de código postal inválido (debe tener 5 dígitos)"
                }
            }
        },
        "httpx.JSendSuccess": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "object"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "internal_documents_models.PaginationMetadata": {
            "type": "object",
            "properties": {
                "current_page": {
                    "type": "integer",
                    "example": 1
                },
                "has_next": {
                    "type": "boolean",
                    "example": true
                },
                "has_previous": {
                    "type": "boolean",
                    "example": false
                },
                "next_url": {
                    "type": "string",
                    "example": "/api/v1/documents?page=2\u0026limit=20"
                },
                "per_page": {
                    "type": "integer",
                    "example": 20
                },
                "previous_url": {
                    "type": "string",
                    "example": "/api/v1/documents?page=1\u0026limit=20"
                },
                "total_items": {
                    "type": "integer",
                    "example": 100
                },
                "total_pages": {
                    "type": "integer",
                    "example": 5
                }
            }
        },
        "internal_notifications_models.PaginationMetadata": {
            "type": "object",
            "properties": {
                "current_page": {
                    "type": "integer",
                    "example": 1
                },
                "has_next": {
                    "type": "boolean",
                    "example": true
                },
                "has_previous": {
                    "type": "boolean",
                    "example": false
                },
                "next_url": {
                    "type": "string",
                    "example": "/api/v1/notifications?page=2\u0026limit=20"
                },
                "per_page": {
                    "type": "integer",
                    "example": 20
                },
                "previous_url": {
                    "type": "string"
                },
                "total_items": {
                    "type": "integer",
                    "example": 100
                },
                "total_pages": {
                    "type": "integer",
                    "example": 5
                }
            }
        },
        "models.ActiveSession": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string",
                    "example": "2025-01-15T10:30:00Z"
                },
                "device_info": {
                    "type": "string",
                    "example": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X)"
                },
                "expires_at": {
                    "type": "string",
                    "example": "2025-04-15T10:30:00Z"
                },
                "id": {
                    "type": "string",
                    "example": "550e8400-e29b-41d4-a716-446655440000"
                },
                "ip_address": {
                    "type": "string",
                    "example": "192.168.1.1"
                }
            }
        },
        "models.ActiveSessionsResponse": {
            "type": "object",
            "properties": {
                "sessions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.ActiveSession"
                    }
                }
            }
        },
        "models.ActiveSessionsResponseWrapper": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.ActiveSessionsResponse"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.AssignmentStatus": {
            "type": "string",
            "enum": [
                "pending",
                "accepted",
                "rejected",
                "timeout",
                "expired"
            ],
            "x-enum-varnames": [
                "AssignmentStatusPending",
                "AssignmentStatusAccepted",
                "AssignmentStatusRejected",
                "AssignmentStatusTimeout",
                "AssignmentStatusExpired"
            ]
        },
        "models.AuthResponse": {
            "type": "object",
            "properties": {
                "access_token": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAiLCJleHAiOjE3MzczOTA2MDAsImlhdCI6MTczNzM4NzYwMCwidHlwZSI6ImFjY2VzcyJ9.dGhpc2lzYW1vY2tzaWduYXR1cmU"
                },
                "refresh_token": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAiLCJleHAiOjE3Mzk5Nzk2MDAsImlhdCI6MTczNzM4NzYwMCwidHlwZSI6InJlZnJlc2gifQ.dGhpc2lzYW1vY2tzaWduYXR1cmU"
                },
                "user": {
                    "$ref": "#/definitions/models.User"
                }
            }
        },
        "models.CancelOrderRequest": {
            "type": "object",
            "required": [
                "reason"
            ],
            "properties": {
                "reason": {
                    "type": "string",
                    "example": "Cliente solicitó cancelación"
                }
            }
        },
        "models.CompleteRegistrationResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.AuthResponse"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.CreateExternalOrderRequest": {
            "type": "object",
            "required": [
                "customer_name",
                "customer_phone",
                "delivery_address",
                "delivery_code",
                "delivery_latitude",
                "delivery_longitude",
                "external_order_id",
                "items",
                "merchant_id",
                "pickup_address",
                "pickup_latitude",
                "pickup_longitude",
                "total_amount"
            ],
            "properties": {
                "customer_name": {
                    "type": "string",
                    "example": "María García"
                },
                "customer_phone": {
                    "type": "string",
                    "example": "+525512345678"
                },
                "delivery_address": {
                    "type": "string",
                    "example": "Calle Reforma 567"
                },
                "delivery_code": {
                    "type": "string",
                    "example": "1234"
                },
                "delivery_fee": {
                    "type": "number",
                    "example": 25
                },
                "delivery_instructions": {
                    "type": "string",
                    "example": "Tocar 302"
                },
                "delivery_latitude": {
                    "type": "number",
                    "maximum": 90,
                    "minimum": -90,
                    "example": 19.426608
                },
                "delivery_longitude": {
                    "type": "number",
                    "maximum": 180,
                    "minimum": -180,
                    "example": -99.166209
                },
                "external_order_id": {
                    "type": "string",
                    "example": "EXT-ORDER-12345"
                },
                "items": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                        "$ref": "#/definitions/models.OrderItem"
                    }
                },
                "merchant_id": {
                    "type": "string",
                    "example": "123e4567-e89b-12d3-a456-426614174000"
                },
                "pickup_address": {
                    "type": "string",
                    "example": "Av. Insurgentes Sur 1234"
                },
                "pickup_instructions": {
                    "type": "string",
                    "example": "Local 5"
                },
                "pickup_latitude": {
                    "type": "number",
                    "maximum": 90,
                    "minimum": -90,
                    "example": 19.432608
                },
                "pickup_longitude": {
                    "type": "number",
                    "maximum": 180,
                    "minimum": -180,
                    "example": -99.133209
                },
                "total_amount": {
                    "type": "number",
                    "example": 250.5
                }
            }
        },
        "models.CreateMerchantRequest": {
            "type": "object",
            "required": [
                "address",
                "business_name",
                "business_type",
                "city",
                "latitude",
                "longitude",
                "phone",
                "state"
            ],
            "properties": {
                "address": {
                    "type": "string",
                    "example": "Av. Insurgentes Sur 1234, Col. Del Valle"
                },
                "business_name": {
                    "type": "string",
                    "maxLength": 255,
                    "minLength": 2,
                    "example": "Tacos El Güero"
                },
                "business_type": {
                    "type": "string",
                    "example": "restaurant"
                },
                "city": {
                    "type": "string",
                    "example": "Ciudad de México"
                },
                "email": {
                    "type": "string",
                    "example": "contacto@tacoselguero.com"
                },
                "latitude": {
                    "type": "number",
                    "maximum": 90,
                    "minimum": -90,
                    "example": 19.432608
                },
                "longitude": {
                    "type": "number",
                    "maximum": 180,
                    "minimum": -180,
                    "example": -99.133209
                },
                "phone": {
                    "type": "string",
                    "example": "+525512345678"
                },
                "postal_code": {
                    "type": "string",
                    "example": "03100"
                },
                "state": {
                    "type": "string",
                    "example": "CDMX"
                }
            }
        },
        "models.CreateNotificationRequest": {
            "type": "object",
            "required": [
                "body",
                "notification_type",
                "title",
                "user_id"
            ],
            "properties": {
                "body": {
                    "type": "string",
                    "example": "Tu pedido #1234 está en camino"
                },
                "data": {
                    "type": "string"
                },
                "notification_type": {
                    "enum": [
                        "order_created",
                        "order_updated",
                        "order_assigned",
                        "order_in_transit",
                        "order_delivered",
                        "order_canceled",
                        "payment_received",
                        "payment_failed",
                        "driver_assigned",
                        "driver_nearby",
                        "general",
                        "promotional"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.NotificationType"
                        }
                    ],
                    "example": "order_in_transit"
                },
                "title": {
                    "type": "string",
                    "maxLength": 255,
                    "example": "Pedido en camino"
                },
                "user_id": {
                    "type": "string",
                    "example": "d53b655c-e833-400e-b0e8-ee68ea18e2cc"
                }
            }
        },
        "models.DeviceType": {
            "type": "string",
            "enum": [
                "android",
                "ios",
                "web"
            ],
            "x-enum-varnames": [
                "DeviceTypeAndroid",
                "DeviceTypeIOS",
                "DeviceTypeWeb"
            ]
        },
        "models.DocumentListResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "object",
                    "properties": {
                        "items": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.UserDocument"
                            }
                        },
                        "pagination": {
                            "$ref": "#/definitions/internal_documents_models.PaginationMetadata"
                        }
                    }
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.DocumentResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.UserDocument"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.DriverLocation": {
            "type": "object",
            "properties": {
                "accuracy_meters": {
                    "type": "number",
                    "example": 10.5
                },
                "driver_id": {
                    "type": "string",
                    "example": "123e4567-e89b-12d3-a456-426614174000"
                },
                "heading": {
                    "type": "number",
                    "example": 45.5
                },
                "id": {
                    "type": "string",
                    "example": "550e8400-e29b-41d4-a716-446655440000"
                },
                "is_available": {
                    "type": "boolean",
                    "example": true
                },
                "latitude": {
                    "type": "number",
                    "example": 19.432608
                },
                "longitude": {
                    "type": "number",
                    "example": -99.133209
                },
                "speed_kmh": {
                    "type": "number",
                    "example": 35.2
                },
                "updated_at": {
                    "type": "string",
                    "example": "2025-01-15T10:00:00Z"
                }
            }
        },
        "models.DriverLocationResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.DriverLocation"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.FCMToken": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string",
                    "example": "2025-01-15T10:00:00Z"
                },
                "device_id": {
                    "type": "string",
                    "example": "device-abc-123"
                },
                "device_type": {
                    "enum": [
                        "android",
                        "ios",
                        "web"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.DeviceType"
                        }
                    ],
                    "example": "android"
                },
                "id": {
                    "type": "string",
                    "example": "d53b655c-e833-400e-b0e8-ee68ea18e2cc"
                },
                "is_active": {
                    "type": "boolean",
                    "example": true
                },
                "last_used_at": {
                    "type": "string",
                    "example": "2025-01-15T10:00:00Z"
                },
                "token": {
                    "type": "string",
                    "example": "fL8X9Y2Z3A4B5C6D7E8F9G0H1I2J3K4L5M6N7O8P9Q0R1S2T3U4V5W6X7Y8Z9A0B1C"
                },
                "updated_at": {
                    "type": "string",
                    "example": "2025-01-15T10:00:00Z"
                },
                "user_id": {
                    "type": "string",
                    "example": "d53b655c-e833-400e-b0e8-ee68ea18e2cc"
                }
            }
        },
        "models.FiscalRegime": {
            "type": "string",
            "enum": [
                "general",
                "simplificado_confianza",
                "actividad_empresarial",
                "arrendamiento",
                "salarios",
                "incorporacion_fiscal"
            ],
            "x-enum-varnames": [
                "FiscalRegimeGeneral",
                "FiscalRegimeSimplificadoConfianza",
                "FiscalRegimeActividadEmpresarial",
                "FiscalRegimeArrendamiento",
                "FiscalRegimeSalarios",
                "FiscalRegimeIncorporacionFiscal"
            ]
        },
        "models.LoginRequest": {
            "type": "object",
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string",
                    "example": "juan.perez@example.com"
                },
                "password": {
                    "type": "string",
                    "example": "SecurePass123!"
                }
            }
        },
        "models.LoginResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.AuthResponse"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.LogoutRequest": {
            "type": "object",
            "required": [
                "refresh_token"
            ],
            "properties": {
                "refresh_token": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                }
            }
        },
        "models.LogoutResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "example": "Sesión cerrada exitosamente"
                }
            }
        },
        "models.LogoutResponseWrapper": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.LogoutResponse"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.Merchant": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string",
                    "example": "Av. Insurgentes Sur 1234, Col. Del Valle"
                },
                "business_name": {
                    "type": "string",
                    "example": "Tacos El Güero"
                },
                "business_type": {
                    "type": "string",
                    "example": "restaurant"
                },
                "city": {
                    "type": "string",
                    "example": "Ciudad de México"
                },
                "country": {
                    "type": "string",
                    "example": "MX"
                },
                "created_at": {
                    "type": "string",
                    "example": "2025-01-15T10:00:00Z"
                },
                "email": {
                    "type": "string",
                    "example": "contacto@tacoselguero.com"
                },
                "id": {
                    "type": "string",
                    "example": "550e8400-e29b-41d4-a716-446655440000"
                },
                "latitude": {
                    "type": "number",
                    "example": 19.432608
                },
                "longitude": {
                    "type": "number",
                    "example": -99.133209
                },
                "phone": {
                    "type": "string",
                    "example": "+525512345678"
                },
                "postal_code": {
                    "type": "string",
                    "example": "03100"
                },
                "rating": {
                    "type": "number",
                    "example": 4.5
                },
                "state": {
                    "type": "string",
                    "example": "CDMX"
                },
                "status": {
                    "type": "string",
                    "enum": [
                        "active",
                        "inactive",
                        "suspended"
                    ],
                    "example": "active"
                },
                "total_orders": {
                    "type": "integer",
                    "example": 125
                },
                "updated_at": {
                    "type": "string",
                    "example": "2025-01-15T10:00:00Z"
                },
                "user_id": {
                    "type": "string",
                    "example": "123e4567-e89b-12d3-a456-426614174000"
                }
            }
        },
        "models.MerchantListResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.Merchant"
                    }
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.MerchantResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.Merchant"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.Notification": {
            "type": "object",
            "properties": {
                "body": {
                    "type": "string",
                    "example": "Tu pedido #1234 está en camino"
                },
                "created_at": {
                    "type": "string",
                    "example": "2025-01-15T10:00:00Z"
                },
                "data": {
                    "type": "string"
                },
                "id": {
                    "type": "string",
                    "example": "d53b655c-e833-400e-b0e8-ee68ea18e2cc"
                },
                "is_read": {
                    "type": "boolean",
                    "example": false
                },
                "notification_type": {
                    "enum": [
                        "order_created",
                        "order_updated",
                        "order_assigned",
                        "order_in_transit",
                        "order_delivered",
                        "order_canceled",
                        "payment_received",
                        "payment_failed",
                        "driver_assigned",
                        "driver_nearby",
                        "general",
                        "promotional"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.NotificationType"
                        }
                    ],
                    "example": "order_in_transit"
                },
                "read_at": {
                    "type": "string",
                    "example": "2025-01-15T10:30:00Z"
                },
                "title": {
                    "type": "string",
                    "example": "Pedido en camino"
                },
                "user_id": {
                    "type": "string",
                    "example": "d53b655c-e833-400e-b0e8-ee68ea18e2cc"
                }
            }
        },
        "models.NotificationListResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "object",
                    "properties": {
                        "items": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.Notification"
                            }
                        },
                        "pagination": {
                            "$ref": "#/definitions/internal_notifications_models.PaginationMetadata"
                        }
                    }
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.NotificationResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.Notification"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.NotificationType": {
            "type": "string",
            "enum": [
                "order_created",
                "order_updated",
                "order_assigned",
                "order_in_transit",
                "order_delivered",
                "order_canceled",
                "payment_received",
                "payment_failed",
                "driver_assigned",
                "driver_nearby",
                "general",
                "promotional"
            ],
            "x-enum-varnames": [
                "NotificationTypeOrderCreated",
                "NotificationTypeOrderUpdated",
                "NotificationTypeOrderAssigned",
                "NotificationTypeOrderInTransit",
                "NotificationTypeOrderDelivered",
                "NotificationTypeOrderCanceled",
                "NotificationTypePaymentReceived",
                "NotificationTypePaymentFailed",
                "NotificationTypeDriverAssigned",
                "NotificationTypeDriverNearby",
                "NotificationTypeGeneral",
                "NotificationTypePromotional"
            ]
        },
        "models.OTPSentResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "example": "OTP sent to phone"
                },
                "otp_expires_at": {
                    "type": "string",
                    "example": "2025-01-20T12:35:00Z"
                },
                "phone": {
                    "type": "string",
                    "example": "+525512345678"
                }
            }
        },
        "models.Order": {
            "type": "object",
            "properties": {
                "accepted_at": {
                    "type": "string",
                    "example": "2025-01-15T10:01:30Z"
                },
                "assigned_at": {
                    "type": "string",
                    "example": "2025-01-15T10:01:00Z"
                },
                "cancellation_reason": {
                    "type": "string"
                },
                "cancelled_at": {
                    "type": "string"
                },
                "cancelled_by": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string",
                    "example": "2025-01-15T10:00:00Z"
                },
                "customer_name": {
                    "type": "string",
                    "example": "María García"
                },
                "customer_phone": {
                    "type": "string",
                    "example": "+525512345678"
                },
                "delivered_at": {
                    "type": "string",
                    "example": "2025-01-15T10:30:00Z"
                },
                "delivery_address": {
                    "type": "string",
                    "example": "Calle Reforma 567"
                },
                "delivery_code": {
                    "type": "string",
                    "example": "1234"
                },
                "delivery_fee": {
                    "type": "number",
                    "example": 25
                },
                "delivery_instructions": {
                    "type": "string",
                    "example": "Tocar interfon 302"
                },
                "delivery_latitude": {
                    "type": "number",
                    "example": 19.426608
                },
                "delivery_longitude": {
                    "type": "number",
                    "example": -99.166209
                },
                "distance_km": {
                    "type": "number",
                    "example": 5.2
                },
                "driver_id": {
                    "type": "string",
                    "example": "987e6543-e21b-12d3-a456-426614174000"
                },
                "estimated_duration_minutes": {
                    "type": "integer",
                    "example": 15
                },
                "external_order_id": {
                    "type": "string",
                    "example": "EXT-ORDER-12345"
                },
                "id": {
                    "type": "string",
                    "example": "550e8400-e29b-41d4-a716-446655440000"
                },
                "items": {
                    "type": "array",
                    "items": {
                        "type": "object"
                    }
                },
                "merchant_id": {
                    "type": "string",
                    "example": "123e4567-e89b-12d3-a456-426614174000"
                },
                "picked_up_at": {
                    "type": "string",
                    "example": "2025-01-15T10:15:00Z"
                },
                "pickup_address": {
                    "type": "string",
                    "example": "Av. Insurgentes Sur 1234"
                },
                "pickup_instructions": {
                    "type": "string",
                    "example": "Local 5, planta baja"
                },
                "pickup_latitude": {
                    "type": "number",
                    "example": 19.432608
                },
                "pickup_longitude": {
                    "type": "number",
                    "example": -99.133209
                },
                "status": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.OrderStatus"
                        }
                    ],
                    "example": "searching_driver"
                },
                "total_amount": {
                    "type": "number",
                    "example": 250.5
                },
                "updated_at": {
                    "type": "string",
                    "example": "2025-01-15T10:00:00Z"
                }
            }
        },
        "models.OrderAssignment": {
            "type": "object",
            "properties": {
                "attempt_number": {
                    "type": "integer"
                },
                "created_at": {
                    "type": "string"
                },
                "distance_to_pickup_km": {
                    "type": "number"
                },
                "driver_id": {
                    "type": "string"
                },
                "estimated_arrival_minutes": {
                    "type": "integer"
                },
                "expires_at": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "order_id": {
                    "type": "string"
                },
                "rejection_reason": {
                    "type": "string"
                },
                "responded_at": {
                    "type": "string"
                },
                "search_radius_km": {
                    "type": "number"
                },
                "status": {
                    "$ref": "#/definitions/models.AssignmentStatus"
                }
            }
        },
        "models.OrderItem": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "example": "Tacos al Pastor"
                },
                "price": {
                    "type": "number",
                    "example": 15
                },
                "quantity": {
                    "type": "integer",
                    "example": 3
                }
            }
        },
        "models.OrderListResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.Order"
                    }
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.OrderResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.Order"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.OrderStatus": {
            "type": "string",
            "enum": [
                "searching_driver",
                "assigned",
                "accepted",
                "picked_up",
                "in_transit",
                "delivered",
                "cancelled",
                "no_driver_available"
            ],
            "x-enum-varnames": [
                "OrderStatusSearchingDriver",
                "OrderStatusAssigned",
                "OrderStatusAccepted",
                "OrderStatusPickedUp",
                "OrderStatusInTransit",
                "OrderStatusDelivered",
                "OrderStatusCancelled",
                "OrderStatusNoDriverAvailable"
            ]
        },
        "models.RefreshRequest": {
            "type": "object",
            "required": [
                "refresh_token"
            ],
            "properties": {
                "refresh_token": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAiLCJleHAiOjE3Mzk5Nzk2MDAsImlhdCI6MTczNzM4NzYwMCwidHlwZSI6InJlZnJlc2gifQ.dGhpc2lzYW1vY2tzaWduYXR1cmU"
                }
            }
        },
        "models.RefreshResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.AuthResponse"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.RegisterRequest": {
            "type": "object",
            "required": [
                "phone"
            ],
            "properties": {
                "birth_date": {
                    "type": "string",
                    "example": "1990-05-15"
                },
                "email": {
                    "description": "Step 3 fields (required for complete registration)",
                    "type": "string",
                    "example": "juan.perez@example.com"
                },
                "first_name": {
                    "description": "Step 1 fields (optional for OTP send)",
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 2,
                    "example": "Juan"
                },
                "last_name": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 2,
                    "example": "Pérez"
                },
                "mother_last_name": {
                    "type": "string",
                    "maxLength": 100,
                    "example": "González"
                },
                "otp": {
                    "type": "string",
                    "example": "123456"
                },
                "password": {
                    "type": "string",
                    "maxLength": 72,
                    "minLength": 6,
                    "example": "SecurePass123!"
                },
                "phone": {
                    "description": "Step 2 fields (required for both modes)",
                    "type": "string",
                    "example": "+525512345678"
                }
            }
        },
        "models.RegisterResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.OTPSentResponse"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.RegisterTokenRequest": {
            "type": "object",
            "required": [
                "device_type",
                "token"
            ],
            "properties": {
                "device_id": {
                    "type": "string",
                    "example": "device-abc-123"
                },
                "device_type": {
                    "enum": [
                        "android",
                        "ios",
                        "web"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.DeviceType"
                        }
                    ],
                    "example": "android"
                },
                "token": {
                    "type": "string",
                    "example": "fL8X9Y2Z3A4B5C6D7E8F9G0H1I2J3K4L5M6N7O8P9Q0R1S2T3U4V5W6X7Y8Z9A0B1C"
                }
            }
        },
        "models.TokenResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.FCMToken"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.UnreadCountResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "object",
                    "properties": {
                        "count": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.UnregisterTokenRequest": {
            "type": "object",
            "required": [
                "token"
            ],
            "properties": {
                "token": {
                    "type": "string",
                    "example": "fL8X9Y2Z3A4B5C6D7E8F9G0H1I2J3K4L5M6N7O8P9Q0R1S2T3U4V5W6X7Y8Z9A0B1C"
                }
            }
        },
        "models.UpdateAvailabilityRequest": {
            "type": "object",
            "required": [
                "is_available"
            ],
            "properties": {
                "is_available": {
                    "type": "boolean",
                    "example": true
                }
            }
        },
        "models.UpdateDocumentRequest": {
            "type": "object",
            "properties": {
                "circulation_card_url": {
                    "description": "Document URLs",
                    "type": "string",
                    "example": "https://storage.example.com/docs/circulation_card.jpg"
                },
                "driver_license_back_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/license_back.jpg"
                },
                "driver_license_front_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/license_front.jpg"
                },
                "fiscal_certificate_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/fiscal_cert.pdf"
                },
                "fiscal_city": {
                    "type": "string",
                    "example": "Ciudad de México"
                },
                "fiscal_ext_number": {
                    "type": "string",
                    "example": "222"
                },
                "fiscal_int_number": {
                    "type": "string",
                    "example": "Piso 5"
                },
                "fiscal_name": {
                    "description": "Fiscal Information",
                    "type": "string",
                    "example": "Juan Pérez García"
                },
                "fiscal_neighborhood": {
                    "type": "string",
                    "example": "Juárez"
                },
                "fiscal_regime": {
                    "enum": [
                        "general",
                        "simplificado_confianza",
                        "actividad_empresarial",
                        "arrendamiento",
                        "salarios",
                        "incorporacion_fiscal"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.FiscalRegime"
                        }
                    ],
                    "example": "actividad_empresarial"
                },
                "fiscal_rfc": {
                    "type": "string",
                    "example": "PEGJ850101ABC"
                },
                "fiscal_state": {
                    "type": "string",
                    "example": "CDMX"
                },
                "fiscal_street": {
                    "type": "string",
                    "example": "Paseo de la Reforma"
                },
                "fiscal_zip_code": {
                    "type": "string",
                    "example": "06600"
                },
                "ine_back_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/ine_back.jpg"
                },
                "ine_front_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/ine_front.jpg"
                },
                "license_plate": {
                    "type": "string",
                    "example": "ABC-123-XYZ"
                },
                "profile_photo_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/profile.jpg"
                },
                "vehicle_brand": {
                    "description": "Vehicle Information",
                    "type": "string",
                    "example": "Honda"
                },
                "vehicle_model": {
                    "type": "string",
                    "example": "CBR 250"
                }
            }
        },
        "models.UpdateLocationRequest": {
            "type": "object",
            "required": [
                "latitude",
                "longitude"
            ],
            "properties": {
                "accuracy_meters": {
                    "type": "number",
                    "minimum": 0,
                    "example": 10.5
                },
                "heading": {
                    "type": "number",
                    "maximum": 360,
                    "minimum": 0,
                    "example": 45.5
                },
                "latitude": {
                    "type": "number",
                    "maximum": 90,
                    "minimum": -90,
                    "example": 19.432608
                },
                "longitude": {
                    "type": "number",
                    "maximum": 180,
                    "minimum": -180,
                    "example": -99.133209
                },
                "speed_kmh": {
                    "type": "number",
                    "minimum": 0,
                    "example": 35.2
                }
            }
        },
        "models.UpdateMerchantRequest": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string",
                    "example": "Av. Insurgentes Sur 1234, Col. Del Valle"
                },
                "business_name": {
                    "type": "string",
                    "maxLength": 255,
                    "minLength": 2,
                    "example": "Tacos El Güero"
                },
                "email": {
                    "type": "string",
                    "example": "contacto@tacoselguero.com"
                },
                "latitude": {
                    "type": "number",
                    "maximum": 90,
                    "minimum": -90,
                    "example": 19.432608
                },
                "longitude": {
                    "type": "number",
                    "maximum": 180,
                    "minimum": -180,
                    "example": -99.133209
                },
                "phone": {
                    "type": "string",
                    "example": "+525512345678"
                },
                "postal_code": {
                    "type": "string",
                    "example": "03100"
                }
            }
        },
        "models.UpdateOrderStatusRequest": {
            "type": "object",
            "required": [
                "status"
            ],
            "properties": {
                "status": {
                    "type": "string",
                    "example": "accepted"
                }
            }
        },
        "models.User": {
            "type": "object",
            "properties": {
                "account_status": {
                    "type": "string",
                    "enum": [
                        "pending",
                        "active",
                        "suspended"
                    ],
                    "example": "active"
                },
                "birth_date": {
                    "type": "string",
                    "example": "1990-05-15T00:00:00Z"
                },
                "created_at": {
                    "type": "string",
                    "example": "2025-01-15T10:30:00Z"
                },
                "email": {
                    "type": "string",
                    "example": "juan.perez@example.com"
                },
                "first_name": {
                    "type": "string",
                    "example": "Juan"
                },
                "id": {
                    "type": "string",
                    "example": "550e8400-e29b-41d4-a716-446655440000"
                },
                "last_name": {
                    "type": "string",
                    "example": "Pérez"
                },
                "mother_last_name": {
                    "type": "string",
                    "example": "González"
                },
                "name": {
                    "type": "string",
                    "example": "Juan Pérez"
                },
                "phone": {
                    "type": "string",
                    "example": "+525512345678"
                },
                "phone_verified": {
                    "type": "boolean",
                    "example": true
                },
                "role": {
                    "type": "string",
                    "enum": [
                        "customer",
                        "merchant",
                        "driver",
                        "admin"
                    ],
                    "example": "customer"
                },
                "updated_at": {
                    "type": "string",
                    "example": "2025-01-15T10:30:00Z"
                }
            }
        },
        "models.UserDocument": {
            "type": "object",
            "properties": {
                "circulation_card_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/circulation_card.jpg"
                },
                "created_at": {
                    "type": "string",
                    "example": "2025-01-15T10:30:00Z"
                },
                "driver_license_back_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/license_back.jpg"
                },
                "driver_license_front_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/license_front.jpg"
                },
                "fiscal_certificate_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/fiscal_cert.pdf"
                },
                "fiscal_city": {
                    "type": "string",
                    "example": "Ciudad de México"
                },
                "fiscal_ext_number": {
                    "type": "string",
                    "example": "222"
                },
                "fiscal_int_number": {
                    "type": "string",
                    "example": "Piso 5"
                },
                "fiscal_name": {
                    "type": "string",
                    "example": "Juan Pérez García"
                },
                "fiscal_neighborhood": {
                    "type": "string",
                    "example": "Juárez"
                },
                "fiscal_regime": {
                    "enum": [
                        "general",
                        "simplificado_confianza",
                        "actividad_empresarial",
                        "arrendamiento",
                        "salarios",
                        "incorporacion_fiscal"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.FiscalRegime"
                        }
                    ],
                    "example": "actividad_empresarial"
                },
                "fiscal_rfc": {
                    "type": "string",
                    "example": "PEGJ850101ABC"
                },
                "fiscal_state": {
                    "type": "string",
                    "example": "CDMX"
                },
                "fiscal_street": {
                    "type": "string",
                    "example": "Paseo de la Reforma"
                },
                "fiscal_zip_code": {
                    "type": "string",
                    "example": "06600"
                },
                "id": {
                    "type": "string",
                    "example": "550e8400-e29b-41d4-a716-446655440000"
                },
                "ine_back_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/ine_back.jpg"
                },
                "ine_front_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/ine_front.jpg"
                },
                "license_plate": {
                    "type": "string",
                    "example": "ABC-123-XYZ"
                },
                "profile_photo_url": {
                    "type": "string",
                    "example": "https://storage.example.com/docs/profile.jpg"
                },
                "reviewed": {
                    "type": "boolean",
                    "example": false
                },
                "updated_at": {
                    "type": "string",
                    "example": "2025-01-15T11:00:00Z"
                },
                "user_id": {
                    "type": "string",
                    "example": "123e4567-e89b-12d3-a456-426614174000"
                },
                "vehicle_brand": {
                    "type": "string",
                    "example": "Honda"
                },
                "vehicle_model": {
                    "type": "string",
                    "example": "CBR 250"
                }
            }
        },
        "models.UserProfile": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string",
                    "example": "2025-01-15T10:30:00Z"
                },
                "email": {
                    "type": "string",
                    "example": "juan.perez@example.com"
                },
                "id": {
                    "type": "string",
                    "example": "550e8400-e29b-41d4-a716-446655440000"
                },
                "name": {
                    "type": "string",
                    "example": "Juan Pérez"
                },
                "phone": {
                    "type": "string",
                    "example": "+525512345678"
                },
                "role": {
                    "type": "string",
                    "enum": [
                        "customer",
                        "merchant",
                        "driver",
                        "admin"
                    ],
                    "example": "customer"
                },
                "updated_at": {
                    "type": "string",
                    "example": "2025-01-15T10:30:00Z"
                }
            }
        },
        "models.UserProfileResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.UserProfile"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        },
        "models.VerifyDeliveryCodeRequest": {
            "type": "object",
            "required": [
                "delivery_code"
            ],
            "properties": {
                "delivery_code": {
                    "type": "string",
                    "example": "1234"
                }
            }
        },
        "models.VerifyOTPRequest": {
            "type": "object",
            "required": [
                "otp",
                "phone"
            ],
            "properties": {
                "otp": {
                    "type": "string",
                    "example": "123456"
                },
                "phone": {
                    "type": "string",
                    "example": "+525512345678"
                }
            }
        },
        "models.VerifyOTPResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "example": "Phone verified successfully"
                },
                "phone": {
                    "type": "string",
                    "example": "+525512345678"
                },
                "verified": {
                    "type": "boolean",
                    "example": true
                }
            }
        },
        "models.VerifyOTPResponseWrapper": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/definitions/models.VerifyOTPResponse"
                },
                "status": {
                    "type": "string",
                    "example": "success"
                }
            }
        }
    },
    "securityDefinitions": {
        "BearerAuth": {
            "description": "Type \"Bearer\" followed by a space and JWT token. Example: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}`

// SwaggerInfo holds exported Swagger Info so clients can modify it
var SwaggerInfo = &swag.Spec{
	Version:          "1.0",
	Host:             "localhost:8080",
	BasePath:         "/api/v1",
	Schemes:          []string{},
	Title:            "TacoShare Delivery API",
	Description:      "Delivery marketplace API for customers, merchants, and drivers.",
	InfoInstanceName: "swagger",
	SwaggerTemplate:  docTemplate,
	LeftDelim:        "{{",
	RightDelim:       "}}",
}

func init() {
	swag.Register(SwaggerInfo.InstanceName(), SwaggerInfo)
}
